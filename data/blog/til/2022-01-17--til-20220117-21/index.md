---
title: TIL-20220117~21
createdDate: "2022-01-17 14:32:26"
updatedDate: "2022-01-17 14:32:26"
author: 정대화
tags:
  - til
draft: false
---

## 01.17

### 인턴1

설계를 거의 마무리 했다. db모델링은 거의 할게 없었다.

설계 열심히 하는건 좋은데 시간이 촉박하니 빠르게 시작해야 하지 않느냐는 피드백이 있었고 맞는 말이라 오늘부터 바로 환경 설정을 시작했다.

도커로 디비를 올리다보니 제대로 연결이 안 되는 것들이 생겼다. 더군다나 깃헙액션도 제대로 돌아가지 않았는데, h2없는 환경이 오랜만이라 많이 헤메는 것 같다. 세팅을 대강 살펴봤고 내일 해볼 예정이다.

### DDD

책을 얼추 다 봤다. 마지막은 이벤트 구현과 CQRS에 관한 것이었는데, 이벤트는 구현에 대한 내용이 대부분이고 CQRS는 간단하게 넘어갔다. 조영호님 글을 다시 보고 공부해봐야겠다. 이벤트 관한 부분은 구현해보면서 찾아봐야겠다.

## 01.18

### 인턴2

#### 설계 발표

설계를 발표했다. 전체적인 흐름은 맞지만 상태와 배치에서 애매한 부분이 있어 피드백을 받았다. 생각보다 많이 들어오셔서 좋은 말씀을 해주셨다 ㅋㅋㅋ

피드백 바았던 걸 참고해서 중요도에 따라서 반응이 빨라야 하는 부분과 느려도 괜찮은 부분을 나누는 식으로 접근했다. 예를 들어 과금을 막아야 하는 기능은 반응이 빨라야 하지만 과금이 진행되는 부분은 느려도 괜찮다. 어차피 과금은 계속 진행되는거니까. 이런 식으로 접근하니 풀에 어떤 데이터를 넣을지, 어떤 식으로 분리할지도 명확해졌다.

상태 부분이 헷갈렸는데 노출에 관한 상태와 소재 자체에 대한 상태가 섞여있는 것 같다고 한다. 일단 분리는 됐는데, 피드백을 더 받아봐야겠다.

#### 구현

테스트 환경은 깃헙 액션 위에서 컨테이너를 올릴 수 있어서 쉽게 해결했다.

스키마 설정과 테스트 공통 작성을 이어서 했는데, 테스트 시 어떤 방식을 사용할지 고민이 됐다.
개
객체 생성으로 확인하는 방식은 부작용이 있다는 것을 이미 알고 있기 때문에 최대한 피하려고 했다. 그래서 JSONObject를 사용하거나 직접 확인하는 방법을 고민했는데, 더 생각해봐야겠다.

### 코틀린 스터디

이번 주는 객체와 인터페이스에 관한 것이었다.

전체적인 맥락에서 상속을 최대한 지양하도록 언어 설계를 한 것이 아닌가 하는 의견들이 나왔다.

백킹 필드를 나눈 것도 굳이 프로퍼티를 상속시켜야겠으면 인터페이스에 선언하고 각 구현체에서 정의해라는 느낌이다.

개인적으로는 프로퍼티를 가리고 싶으면 인터페이스를 써라는 느낌을 강하게 받았다. 그리고 객체에는 최대한의 편의성을 제공한다.

코틀린으로 토이프로젝트를 하나 만들어봐야 진짜 감이 올 것 같다.
